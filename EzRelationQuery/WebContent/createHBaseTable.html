<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>大数据服务平台</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8">
<!-- Bootstrap -->
<link href="css/bootstrap.css" rel="stylesheet" media="screen">

<link href="css/sticky.css" rel="stylesheet">
</head>
<body background="./img/google/green.jpg">
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a class="brand" href="#">EzBigData</a>
				<div class="nav-collapse collapse">
					<ul class="nav">
						<li><a href="./index.html"><i class="icon-home"></i> 首页</a></li>

						<li class="active"><a href="#"><i class="icon-table"></i>
								创建HBase表</a></li>
						<li><a href="./importData.html"><i
								class="icon-cloud-download"></i> 导入HBase表</a></li>
						<li><a href="./stat.html"><i class="icon-bar-chart"></i>
								统计分析查询</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>



	<div class="container">
		<div class="content">
			<div class="wrapper">
				<div class="proper-content">
					<div class="row" id="step1">
						<div class="span12">
						
						<div id="mainIntro" class="hero-unit myTransparent">
								<h1>创建HBase表</h1>
								<p>根据Oracle表和其数据特点，创建HBase表及Oracle与HBase表的映射，详见用户手册</p>
								<p>
									<!-- Button to trigger modal -->
									<a href="#myModal" role="button"
										class="btn btn-primary btn-large" data-toggle="modal">查看更多&raquo;</a>

									<!-- Modal -->
									</div>
								<div id="myModal" class="modal hide fade" tabindex="-1"
									role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true">×</button>
										<h3 id="myModalLabel">创建HBase表功能</h3>
									</div>
									<div class="modal-body">
										<p>轨迹类数据：适用于GPS设备、北斗设备等主动定时向服务器端推送地理位置信息数据的场景,一般包含设备标识号、经纬度、发出信号时间和当前速度</p>
										<p>登记类数据：适用于卡口-车辆、旅馆-住宿人员、网吧-上网人员等类型的数据,一般包含登记设备的标识（卡口、旅馆和网吧的名称或者编号）、登记设备的位置信息、被登记对象的标识（车牌或者身份证）、被登记对象的描述和登记时间等。</p>
										<p>kv数据：适用于符合key-value模式的数据</p>
									</div>
									<div class="modal-footer">
										<button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
									</div>
								</div>
							
						
						
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85)">
								<div class="control-group">
									<label class="control-label" for="HBaseTableName">HBase表表名：</label>
									<div class="controls">
										<input type="text" id="HBaseTableName"
											placeholder="创建新的HBase表的表名" required
											onkeyup="this.value=this.value.replace(/[^\w]/g,'')"
											onpaste="this.value=this.value.replace(/[^\w]/g,'')"><span
											class="help-block">指定要创建的HBase表的表名,只能输入数字、字母、下划线</span>
									</div>
								</div>

								<!-- 								<div class="control-group">
									<label class="control-label" for="HBaseTableCreateMethod">HBase表的创建方式:</label>
									<div class="controls">
										<label class="radio"> <input type="radio"
											name="optionsRadios" id="optionsRadios1" value="option1"
											checked> 根据指定的Oracle表创建 </label> <label class="radio">
											<input type="radio" name="optionsRadios" id="optionsRadios2"
											value="option2"> 手动指定字段创建 </label>
									</div>
								</div> -->

								<div class="control-group">
									<label class="control-label" for="HBaseTableCreateMethod">HBase表的数据类型：</label>
									<div class="controls">
										<label class="radio"> <input type="radio"
											name="dataTypeRadio" id="optionsTrace" value="optionsTrace"
											checked>轨迹类 适用于GPS轨迹等数据
										</label> <label class="radio"> <input type="radio"
											name="dataTypeRadio" id="optionsRegister" value="optionsRegister">
											登记类 适用于卡口、旅馆、网吧等数据
										</label><label class="radio"> <input type="radio"
											name="dataTypeRadio" id="optionsKv" value="optionsKv">
											kv类 适用于Key-Value数据
										</label>
									</div>
								</div>


								<div class="control-group">
									<div class="controls">
										<button type="button" id="step1_submit"
											class="btn btn-primary">
											下一步 <i class="icon-hand-right"></i>
										</button>
									</div>
								</div>
							</form>
						</div>

					</div>





					<div class="row" id="step2">
						<div class="span12">
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85)">
								<div class="control-group">
									<label class="control-label" for="OracleURL">Oracle地址：</label>
									<div class="controls">
										<input type="text" id="OracleURL" required
											value="jdbc:oracle:thin:@localhost:1521:orcl"> <span
											class="help-inline"> 参考格式：
											jdbc:oracle:thin:@localhost:1521:orcl </span>
									</div>
								</div>

								<div class="control-group">
									<label class="control-label" for="OracleUsername">Oracle用户名：</label>
									<div class="controls">
										<input type="text" id="OracleUsername" required value="hadoop"><span
											class="help-inline"></span>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="OraclePassword">Oracle密码：</label>
									<div class="controls">
										<input type="password" id="OraclePassword" required
											value="hadoop"><span class="help-inline"
											id="checkOracleConnResult" style="color: red"></span>
									</div>
								</div>

								<div class="control-group">
									<div class="controls">
										<button type="button" id="back2Step1" class="btn btn-primary">
											<i class="icon-hand-left"></i> 上一步
										</button>
										<button type="button" id="step2_submit"
											class="btn btn-primary">
											下一步 <i class="icon-hand-right"></i>
										</button>
									</div>
								</div>
							</form>
						</div>
					</div>


					<div class="row" id="step3Trace">
						<div class="span12">
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85)">
								<div class="control-group">
									<label class="control-label" for="traceTableSelect">轨迹数据源表</label>
									<div class="controls">
										<select multiple="multiple" id="traceTableSelect" size="10"style='width:auto'>
										</select>
										<p style="color: grey">请选择要导出的的Oracle表，可以按住Ctrl或拖动同时复选多个表结构相同的表</p>
									</div>
								</div>
								
								<div class="control-group">
									<div class="controls">
										<button type="button" id="traceBack2Step2" class="btn btn-primary">
											<i class="icon-hand-left"></i> 上一步
										</button>
										<button type="button" id="step3Trace_submit"
											class="btn btn-primary">
											下一步 <i class="icon-hand-right"></i>
										</button>
									</div>
								</div>
							</form>
						</div>
					</div> 
					
					<div class="row" id="step3Kv">
						<div class="span12">
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85)">
								<div class="control-group">
									<label class="control-label" for="kvTableSelect">Kv数据源表</label>
									<div class="controls">
										<select multiple="multiple" id="kvTableSelect" size="10"style='width:auto'>
										</select>
										<p style="color: grey">请选择要导出的的Oracle表，可以按住Ctrl或拖动同时复选多个表结构相同的表</p>
									</div>
								</div>
								
								<div class="control-group">
									<div class="controls">
										<button type="button" id="kvBack2Step2" class="btn btn-primary">
											<i class="icon-hand-left"></i> 上一步
										</button>
										<button type="button" id="step3Kv_submit"
											class="btn btn-primary">
											下一步 <i class="icon-hand-right"></i>
										</button>
									</div>
								</div>
							</form>
						</div>
					</div> 
					
					<div class="row" id="step3Register">
						<div class="span12">
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85)">
								<div class="control-group">
									<label class="control-label" for="registerTableSelect">登记数据源表</label>
									<div class="controls">
										<select multiple="multiple" id="registerTableSelect" size="8"
											style='width: auto'>
										</select>
										<p style="color: grey">请选择要导出的的Oracle表，可以按住Ctrl或拖动同时复选多个表结构相同的表</p>
										<!--  使用注意，创建表时，如果有地理位置信息表，则不要多选；当为已有表添加映射时，可以多选，但不要再选取地理位置信息表-->
									</div>
								</div>
								<hr>
								<div class="control-group">
									<label class="control-label" for="regLocTableType">地理位置信息表的来源</label>
									<div class="controls">
										<div class="btn-group" data-toggle="buttons-radio" id="regLocTableType">
											<button type="button" class="btn btn-primary" id="newLinkRegLocBtn" value="newLink">使用新连接</button>
											<button type="button" class="btn btn-primary active"  id="existLinkRegLocBtn" value="existLink">使用原有链接</button>
											<button type="button" class="btn btn-primary" id="noLocBtn" value="noLoc">没有地理位置信息表</button>
										</div>
									</div><span
											class="help-inline"> </span>
								</div>
								
								<div class="control-group" id="regLocLinkCG" style="display:none;">
									<label class="control-label" for="regLocOracleURL">Oracle地址：</label>
									<div class="controls">
										<input type="text" id="regLocOracleURL" required
											value="jdbc:oracle:thin:@localhost:1521:orcl"> <span
											class="help-inline"> 参考格式：
											jdbc:oracle:thin:@localhost:1521:orcl </span>
									</div>
									<label class="control-label" for="regLocOracleUsername">Oracle用户名：</label>
									<div class="controls">
										<input type="text" id="regLocOracleUsername" required value="hadoop"><span
											class="help-inline"></span>
									</div>
									<label class="control-label" for="regLocOraclePassword">Oracle密码：</label>
									<div class="controls">
										<input type="password" id="regLocOraclePassword" required
											value="hadoop"><span class="help-inline"
											id="checkRegLocOracleConnResult" style="color: red"></span>
									</div>
										<div class="controls">
										<button type="button" id="checkRegLocLink" class="btn btn-primary">
											检测链接
										</button>
									</div>
								</div>
																
								<div class="control-group" id="regLocSelectCG">
									<label class="control-label" for="regLocTableSelect">地理位置信息源表</label>
									<div class="controls">
										<select id="regLocTableSelect" size="8"
											style='width: auto'>
										</select>
										<p style="color: grey">请选择<font color="red">一个</font>要导出的的地理位置信息表</p>
									</div>
								</div>
								
								<div class="control-group">
									<div class="controls">
										<button type="button" id="registerBack2Step2" class="btn btn-primary">
											<i class="icon-hand-left"></i> 上一步
										</button>
										<button type="button" id="step3Register_submit"
											class="btn btn-primary">
											下一步 <i class="icon-hand-right"></i>
										</button>
									</div>
								</div>
							</form>
						</div>
					</div>

					<div class="row" id="step4Trace">
						<div class="span12">
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85);padding: 20px 100px">
								<h4 class="text-center">指定轨迹类数据表中的字段</h4>
								<div class="control-group">
									<label class="control-label" for="traceIDColumnSelect">请指定设备ID对应的字段</label>
									<div class="controls">
										<select class="traceColumns" id="traceIDColumnSelect" style='width:auto'>
										</select>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="traceTimeColumnSelect">请指定时间对应的字段</label>
									<div class="controls">
										<select class="traceColumns" id="traceTimeColumnSelect" style='width:auto'>
										</select>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="traceXColumnSelect">请指定X坐标对应的字段</label>
									<div class="controls">
										<select class="traceColumns" id="traceXColumnSelect" style='width:auto'>
										</select>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="traceYColumnSelect">请指定Y坐标对应的字段</label>
									<div class="controls">
										<select class="traceColumns" id="traceYColumnSelect" style='width:auto'>
										</select>
									</div>
								</div>
								
								<div class="control-group">
									<div class="controls">
										<button type="button" id="traceBack2Step3" class="btn btn-primary">
											<i class="icon-hand-left"></i> 上一步
										</button>
										<button type="button" id="step4Trace_submit"
											class="btn btn-success">
											完成<i class="icon-ok"></i>
										</button>
									</div>
								</div>
							</form>
						</div>
					</div>

					<div class="row" id="step4Kv">
						<div class="span12">
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85);padding: 20px 100px">
								<div class="control-group">
									<label class="control-label" for="kvRowkeyColumnSelect">指定RowKey对应的字段</label>
									<div id="kvRowkeyColumnsDiv">
										<div class="controls">
											<select class="kvColumns kvRowkeys"
												id="kvRowkeyColumnSelect" style='width: auto'>
											</select>
										</div>
									</div>
									<img id="addKvRowkeyColumn" src='./img/plus.png'
										height='25px' width='25px' /> <span class="help-inline">
										按加号可多选：可以将多个字段共同组合成为RowKey，顺序由上至下</span>
								</div>
								<div class="control-group">
									<label class="control-label" for="kvRowkeyDateTypeSelect">日期格式</label>
									<div id="kvRowkeyDateTypeDiv">
										<div class="controls">
											<select 
												id="kvRowkeyDateTypeSelect" style='width: auto'>
												<option>yyyyMMdd</option>
												<option>yyyyMMddHHmmss</option>
												<option>yyyy</option>
												<option>yyyyMM</option>
												<option>yyyyMMddHH</option>
												<option>yyyyMMddHHmm</option>
											</select> <span
											class="help-inline">Rowkey对应字段中，日期时间字段规范化的格式，若Rowkey对应字段无日期时间字段，此项可忽略</span>
										</div>
									</div>
									<label class="control-label" for="kvRowkeyDateTypeInput">手动输入</label>
									<div class="controls">
										<input type="text" id="kvRowkeyDateTypeInput"
											value="" disabled style="width:145px"> <span
											class="help-inline"> 
											<input id="kvRowkeyDateTypeSwitch" type="checkbox" name="kvRowkeyDateTypeSwitch" >手动输入日期格式，规则为Java的SimpleDateFormat</span>
									</div>
								</div>
								<hr>
									<div class="control-group">
									<label class="control-label" for="kvTimeStampTypeSelect">指定TimeStamp类型</label>
									<div id="kvTimeStampTypeSelectDiv">
										<div class="controls">
											<input value="cur" name="auto" type="radio" checked>
											 <span class="help-inline">将Timestamp设定为导入时间</span>
										</div>
										<div class="controls">
											<input value="random" name="auto" type="radio">
											<span class="help-inline">将Timestamp设定为随机值</span>
										</div>
										<div class="controls">
											<input id="kvTimeStampColumnRadio" value="column" name="auto" type="radio" >
											<span class="help-inline">指定Timestamp对应的字段
											<select class="kvColumns"
												id="kvTimestampColumnSelect" style='width: auto' disabled>
											</select></span>
										</div>
									</div>

								</div>
								<div class="control-group">
									<div class="controls">
										<button type="button" id="kvBack2Step3" class="btn btn-primary">
											<i class="icon-hand-left"></i> 上一步
										</button>
										<button type="button" id="step4Kv_submit"
											class="btn btn-success">
											完成<i class="icon-ok"></i>
										</button>
									</div>
								</div>
							</form>
						</div>
					</div>

					<div class="row" id="step4Register">
						<div class="span12">
							<form class="form-horizontal hero-unit-create"
								style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.85);padding: 20px 80px">
								<h4 class="text-center">指定登记类数据表中的字段</h4>
								<div class="control-group">
									<label class="control-label" for="registerIDColumnSelect">登记设备ID对应的字段</label>
									<div class="controls">
										<select class="registerColumns" id="registerIDColumnSelect"
											style='width: auto'>
										</select>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="registerTimeColumnSelect">登记时间对应的字段</label>
									<div class="controls">
										<select class="registerColumns" id="registerTimeColumnSelect"
											style='width: auto'>
										</select>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="registeeColumnSelect">被登记对象ID对应的字段</label>
									<div id="registeeColumnsDiv">
										<div class="controls">
											<select class="registerColumns registees"
												id="registeeColumnSelect" style='width: auto'>
											</select>
										</div>
									</div>
									<img id="addRegisteeIDColumn" src='./img/plus.png'
										height='25px' width='25px' /> <span class="help-inline">
										按加号可多选：适用场景举例卡口车辆，需要车牌号码、 车辆类型两个字段（或更多字段）确定一辆车等类似情况，ID顺序由上至下</span>
								</div>
								<hr>
								<div id="regLocColumn">
									<h4 class="text-center">指定地理位置信息表中的字段</h4>
									<div class="control-group">
										<label class="control-label" for="regLocIDColumnSelect">登记设备ID对应的字段</label>
										<div class="controls">
											<select class="regLocColumns" id="regLocIDColumnSelect"
												style='width: auto'>
											</select>
										</div>
										</div>
								<div class="control-group">
										<label class="control-label" for="regLocXColumnSelect">X坐标对应的字段</label>
										<div class="controls">
											<select class="regLocColumns" id="regLocXColumnSelect"
												style='width: auto'>
											</select>
										</div>
										</div>
								<div class="control-group">
										<label class="control-label" for="regLocYColumnSelect">Y坐标对应的字段</label>
										<div class="controls">
											<select class="regLocColumns" id="regLocYColumnSelect"
												style='width: auto'>
											</select>
										</div>
									</div>
								</div>
								<div class="control-group">
									<div class="controls">
										<button type="button" id="registerBack2Step3"
											class="btn btn-primary">
											<i class="icon-hand-left"></i> 上一步
										</button>
										<button type="button" id="step4Register_submit"
											class="btn btn-success">
											完成<i class="icon-ok"></i>
										</button>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div> 


					<div id="warningModal" class="modal hide fade" tabindex="-1"
						role="dialog" aria-labelledby="warningModalLabel" aria-hidden="true">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal"
								aria-hidden="true">×</button>
							<h3 id="warningModalLabel">请注意</h3>
						</div>
						<div class="modal-body">
							<p id="warningModalText">One fine body…</p>
						</div>
						<div class="modal-footer">
							<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
						</div>
					</div>


				</div>

				<div class="push"></div>
			<div class="footer-wrapper">
				<div class="container">
					<div class="row">
						<div class="span5"></div>
						<div class="span4">
							<p class="muted credit">
								&copy;<a href="http://www.founderinternational.com">方正国际</a>
								2014
							</p>
						</div>
						<div class="span3"></div>
					</div>
				</div>
			</div>
			</div>


		</div>

	


	<script src="./js/jQuery.js"></script>
	<script src="./js/bootstrap.js"></script>
	<script src="./js/common.js"></script>
	<script type="text/javascript" src="./js/createHBaseTable.js">
		
	</script>

</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  